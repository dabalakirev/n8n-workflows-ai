# MCP CI/CD Deployment Protocol

## ‚ö†Ô∏è –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ü–†–û–¢–û–ö–û–õ
–≠—Ç–æ –§–£–ù–î–ê–ú–ï–ù–¢–ê–õ–¨–ù–´–ô –ø–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–π –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –¥–æ–ª–∂–µ–Ω –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –≤ —Å—Ç—Ä–æ–≥–æ–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏. –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –ø—É–Ω–∫—Ç—É –ë–ï–ó –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –ó–ê–ü–†–ï–©–ï–ù.

## üéØ –¶–µ–ª—å
CI/CD –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è n8n workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MCP-first –ø–æ–¥—Ö–æ–¥–∞.

## üîÑ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–∑—ã

### 1. **üèóÔ∏è Architecture Design**
- –ê–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–æ–∑–¥–∞–Ω–∏–µ Issues —Å –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏ —É—Å–ø–µ—Ö–∞
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MCP –ø–æ–¥—Ö–æ–¥–∞

### 2. **üíª MCP-First Development**
- –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (`n8n_list_workflows`)
- –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ MCP (`n8n_create_workflow`, `n8n_update_full_workflow`)
- **DEV —Ç—Ä–∏–≥–≥–µ—Ä—ã**: Manual + Execute Workflow (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GitHub

### üîê **Credentials Requirements**
- **Source:** Use exact credential IDs from `docs/projects/[project]/credentials-reference.md`  
- **Format:** Copy credential objects with ID + name from reference file
- **Validation:** Verify credential names match n8n instance before deployment

### 3. **üß™ Testing**
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ workflow
- –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ Bug Issues –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### 4. **üîÑ DEV-GitHub Sync**
- **–ü–û–°–õ–ï —É—Å–ø–µ—à–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤**: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è DEV workflows —Å GitHub
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ DEV —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è n8n ‚Üî GitHub

### 5. **üöÄ Production Deployment**
- **PROD —Ç—Ä–∏–≥–≥–µ—Ä**: —Ç–æ–ª—å–∫–æ Manual (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- –£–¥–∞–ª–µ–Ω–∏–µ Execute Workflow —Ç—Ä–∏–≥–≥–µ—Ä–∞ –∏–∑ DEV –≤–µ—Ä—Å–∏–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å GitHub

### 6. **üè∑Ô∏è Release Management**
- –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–µ –≤–µ—Ä—Åioning
- –°–æ–∑–¥–∞–Ω–∏–µ GitHub Release
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è release notes

### 7. **üìö Documentation**
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ workflow
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ cross-references

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### **–¢—Ä–∏–≥–≥–µ—Ä—ã:**
- **DEV workflows**: 2 —Ç—Ä–∏–≥–≥–µ—Ä–∞ (Manual + Execute Workflow)
- **PROD workflows**: 1 —Ç—Ä–∏–≥–≥–µ—Ä (—Ç–æ–ª—å–∫–æ Manual)

### **MCP-First –ø–æ–¥—Ö–æ–¥:**
```bash
# Development
n8n_create_workflow({name, nodes, connections})

# Testing  
n8n_get_execution(executionId) // –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

# DEV-GitHub Sync
github-mcp:create_or_update_file("workflows/project/dev/")

# Production
n8n_create_workflow(prodConfig) // –±–µ–∑ Execute Workflow —Ç—Ä–∏–≥–≥–µ—Ä–∞
```

### **UI Escalation –ø—Ä–æ—Ç–æ–∫–æ–ª:**
–ü—Ä–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö MCP:
1. **–£–±–µ–¥–∏—Ç—å—Å—è**, —á—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ (–ø—Ä–æ–ø–∏—Å–∞–Ω–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ n8n)
2. **–ï—Å–ª–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ**: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ —Ç–µ–∫—É—â–µ–≥–æ Issue
3. **–°–æ–∑–¥–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—É—é –ø–æ—à–∞–≥–æ–≤—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é** –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏—è —á–µ—Ä–µ–∑ UI –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã n8n
4. –î–æ–±–∞–≤–∏—Ç—å label "üî¥ manual-ui-required"

## üìã Quality Gates
- [ ] JSON Schema –≤–∞–ª–∏–¥–∞—Ü–∏—è
- [ ] Workflow —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] DEV-GitHub —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] Architecture review
- [ ] Security review (–¥–ª—è PROD)

## üîÑ Role Switching —Ñ–æ—Ä–º–∞—Ç
```
üé≠ [ROLE SWITCH] Current ‚Üí Next
Reason: [–ø—Ä–∏—á–∏–Ω–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞]
Context: [–∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞]
```

*–ü—Ä–æ—Ç–æ–∫–æ–ª –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É workflow —Å MCP –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π –∏ production-ready deployment.*