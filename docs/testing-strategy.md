# Testing Strategy - Test Orchestrator Architecture

## ๐ฏ ะะฑัะฐั ะบะพะฝัะตะฟัะธั

ะัะฟะพะปัะทัะตะผ **Test Orchestrator** - ัะฟะตัะธะฐะปัะฝัะน workflow, ะบะพัะพััะน ัะฟัะฐะฒะปัะตั ัะตััะธัะพะฒะฐะฝะธะตะผ ะฒัะตั DEV workflows ัะตัะตะท n8n API.

## ๐๏ธ ะััะธัะตะบัััะฐ ัะตััะธัะพะฒะฐะฝะธั

### DEV Workflow ััััะบัััะฐ (ะดะฒะพะนะฝัะต ััะธะณะณะตัั):
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ             DEV Workflow                โ
โ                                         โ
โ  Manual Trigger โโโ                     โ
โ                   โโโโ [ะัะฝะพะฒะฝะฐั ะปะพะณะธะบะฐ]โโโโ Output
โ  Execute Workflow โ                     โ
โ  Trigger โโโโโโโโโโโ                    โ
โ      โ                                  โ
โ      โ ะัะทัะฒะฐะตััั Test Orchestrator     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### Test Orchestrator ััััะบัััะฐ:
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                Test Orchestrator                     โ
โ                                                      โ
โ Webhook โโโ Execute โโโ Execute โโโ Execute โโโ Reportโ
โ Trigger     DEV WF1     DEV WF2     DEV WF3     Node โ
โ                                                      โ
โ Input: ัะตััะพะฒัะต ะดะฐะฝะฝัะต                               โ
โ Output: ัะฒะพะดะฝัะน ะพััะตั ะฟะพ ะฒัะตะผ ัะตััะฐะผ                 โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัะพัะตัั ัะตััะธัะพะฒะฐะฝะธั

### 1. ะะพะดะณะพัะพะฒะบะฐ DEV workflow:
```javascript
// ะะฐะถะดัะน DEV workflow ะดะพะปะถะตะฝ ะธะผะตัั:
1. Manual Trigger (ะพัะฝะพะฒะฝะพะน)
2. Execute Workflow Trigger (ัะตััะพะฒัะน)
3. ะะฑัะธะน ะฒััะพะด ะธะท ะพะฑะพะธั ััะธะณะณะตัะพะฒ ะฒ ะพัะฝะพะฒะฝัั ะปะพะณะธะบั
```

### 2. Test Orchestrator workflow:
- **Webhook Trigger** - ะฟัะธะฝะธะผะฐะตั ะบะพะผะฐะฝะดั ะฝะฐ ัะตััะธัะพะฒะฐะฝะธะต
- **Execute Workflow ัะทะปั** - ะฒัะทัะฒะฐัั ะบะฐะถะดัะน DEV workflow
- **Aggregation Logic** - ัะพะฑะธัะฐะตั ัะตะทัะปััะฐัั ะฒัะตั ัะตััะพะฒ
- **Report Generator** - ัะพัะผะธััะตั ัะฒะพะดะฝัะน ะพััะตั

### 3. ะะฐะฟััะบ ัะตััะธัะพะฒะฐะฝะธั:
```
AI Agent โโโ POST ะบ Webhook โโโ Test Orchestrator โโโ ะขะตััะธััะตั ะฒัะต DEV workflows โโโ ะะตะทัะปััะฐั
```

## ๐ ะขะตััะพะฒัะต ะดะฐะฝะฝัะต ะธ ัะตะทัะปััะฐัั

### Input ะดะปั Test Orchestrator:
```json
{
  "testSuite": "full|quick|specific",
  "workflows": ["ai-deepseek", "fpm-router"],
  "testData": {
    "ai-deepseek": { "input": "test query" },
    "fmp-router": { "toolName": "test", "params": {} }
  }
}
```

### Output ะพั Test Orchestrator:
```json
{
  "testResults": {
    "ai-deepseek": { "status": "pass|fail", "error": null, "duration": "2.3s" },
    "fmp-router": { "status": "pass", "error": null, "duration": "1.1s" }
  },
  "summary": {
    "total": 2,
    "passed": 2,
    "failed": 0,
    "duration": "3.4s"
  }
}
```

## ๐ DEV vs PROD ัะฐะทะปะธัะธั

### DEV Environment:
- **ะะพะปะธัะตััะฒะพ ััะธะณะณะตัะพะฒ**: 2 (Manual + Execute Workflow)
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะะฐะทัะฐะฑะพัะบะฐ + ัะตััะธัะพะฒะฐะฝะธะต
- **Test Orchestrator**: ะัะธัััััะฒัะตั
- **Webhook URLs**: ะะพัััะฟะฝั ะดะปั ัะตััะธัะพะฒะฐะฝะธั

### PROD Environment:
- **ะะพะปะธัะตััะฒะพ ััะธะณะณะตัะพะฒ**: 1 (ัะพะปัะบะพ Manual)
- **ะะฐะทะฝะฐัะตะฝะธะต**: ะัะพะดะฐะบัะฝ ะธัะฟะพะปัะทะพะฒะฐะฝะธะต
- **Test Orchestrator**: ะััััััะฒัะตั
- **Webhook URLs**: ะััััััะฒััั

## ๐ง ะัะฐะบัะธัะตัะบะฐั ัะตะฐะปะธะทะฐัะธั

### ะกะพะทะดะฐะฝะธะต DEV workflow:
1. ะะพะฟะธััะตะผ PROD ะฒะตััะธั
2. ะะพะฑะฐะฒะปัะตะผ Execute Workflow Trigger
3. ะกะพะตะดะธะฝัะตะผ ะพะฑะฐ ััะธะณะณะตัะฐ ั ะพัะฝะพะฒะฝะพะน ะปะพะณะธะบะพะน
4. ะขะตััะธััะตะผ ัะตัะตะท ะพัะบะตัััะฐัะพั

### ะะตัะตะฝะพั ะฒ PROD:
1. ะะพะฟะธััะตะผ DEV workflow
2. **ะฃะดะฐะปัะตะผ Execute Workflow Trigger**
3. ะััะฐะฒะปัะตะผ ัะพะปัะบะพ Manual Trigger
4. ะะตะฟะปะพะธะผ ะฒ PROD ะฟัะพะตะบั

## โ๏ธ ะะฐะถะฝัะต ะพะณัะฐะฝะธัะตะฝะธั

### n8n API ะพะณัะฐะฝะธัะตะฝะธั:
- โ ะะตะปัะทั ะฐะบัะธะฒะธัะพะฒะฐัั/ะดะตะฐะบัะธะฒะธัะพะฒะฐัั workflows ะฟัะพะณัะฐะผะผะฝะพ
- โ ะะตะปัะทั ะฒัะฟะพะปะฝััั workflows ั Manual Trigger ะฝะฐะฟััะผัั
- โ ะะพะถะฝะพ ะฒัะทัะฒะฐัั workflows ัะตัะตะท Execute Workflow ัะทะปั
- โ ะะพะถะฝะพ ะทะฐะฟััะบะฐัั workflows ัะตัะตะท Webhook

### ะขะตััะพะฒัะต ะพะณัะฐะฝะธัะตะฝะธั:
- Manual Trigger ะปะพะณะธะบะฐ ัะตััะธััะตััั ะบะพัะฒะตะฝะฝะพ
- ะะตะบะพัะพััะต trigger-ัะฟะตัะธัะธัะฝัะต ะพัะพะฑะตะฝะฝะพััะธ ะผะพะณัั ะพัะปะธัะฐัััั
- Schedule triggers ะฝะต ัะตััะธัััััั

## ๐ ะงะตะบะปะธัั ะดะปั ะฝะฐัััะพะนะบะธ

### DEV Workflow:
- [ ] Manual Trigger ะฝะฐัััะพะตะฝ
- [ ] Execute Workflow Trigger ะดะพะฑะฐะฒะปะตะฝ  
- [ ] ะะฑะฐ ััะธะณะณะตัะฐ ะฒะตะดัั ะบ ะพะฑัะตะน ะปะพะณะธะบะต
- [ ] Workflow ะฟัะพัะตััะธัะพะฒะฐะฝ ัะตัะตะท ะพัะบะตัััะฐัะพั

### Test Orchestrator:
- [ ] Webhook Trigger ะฝะฐัััะพะตะฝ
- [ ] Execute Workflow ัะทะปั ะดะปั ะฒัะตั DEV workflows
- [ ] ะกะฑะพั ะธ ะฐะณัะตะณะฐัะธั ัะตะทัะปััะฐัะพะฒ
- [ ] ะคะพัะผะธัะพะฒะฐะฝะธะต ะพััะตัะฐ

### PROD Migration:
- [ ] Execute Workflow Trigger ัะดะฐะปะตะฝ
- [ ] ะขะพะปัะบะพ Manual Trigger ะพััะฐะปัั
- [ ] ะะพะณะธะบะฐ ะฟะพะปะฝะพัััั ะธะดะตะฝัะธัะฝะฐ DEV
- [ ] ะคะธะฝะฐะปัะฝะฐั ะฟัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ

---

*ะญัะฐ ัััะฐัะตะณะธั ะพะฑะตัะฟะตัะธะฒะฐะตั ะฝะฐะดะตะถะฝะพะต ัะตััะธัะพะฒะฐะฝะธะต DEV workflows ะฟะตัะตะด ะฟะตัะตะฝะพัะพะผ ะฒ PROD, ัะพััะฐะฝัั ะฐััะธัะตะบัััะฝัั ัะตะปะพััะฝะพััั ัะธััะตะผั.*